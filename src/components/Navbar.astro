---
interface Props {
	currentPath: string;
}

const { currentPath } = Astro.props;

// Normalize path by removing trailing slash (except for root)
const normalizedPath =
	currentPath === "/" ? "/" : currentPath.replace(/\/$/, "");

const navLinks = [
	{ href: "/", label: "alexgaudon.dev", isBrand: true },
	{ href: "/projects", label: "Projects" },
];

// Helper function to check if a link is active
const isActive = (href: string) => {
	if (href === "/") {
		return normalizedPath === "/";
	}
	return normalizedPath === href || normalizedPath.startsWith(`${href}/`);
};
---

<nav class="p-4 border-b-2 border-white">
  <div class="w-full md:w-1/2 mx-auto flex justify-between items-center">
    {navLinks
      .filter((link) => link.isBrand)
      .map((link) => (
        <a
          href={link.href}
          class="text-lg font-bold border-2 border-white px-4 py-2 text-white hover:bg-white hover:text-black transition-colors"
        >
          [{link.label}]
        </a>
      ))}
    <div class="flex items-center space-x-2">
      <ul class="flex space-x-2">
        {navLinks
          .filter((link) => !link.isBrand)
          .map((link) => (
            <li>
              <a
                href={link.href}
                class={`border-2 border-white px-4 py-2 hover:bg-white hover:text-black transition-colors ${isActive(link.href) ? 'bg-white text-black font-bold' : 'text-white'}`}
              >
                {link.label}
              </a>
            </li>
          ))}
      </ul>
    </div>
  </div>
</nav>
